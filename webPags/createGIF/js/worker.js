importScripts("lib/LZWEncoder.js","lib/NeuQuant.js","lib/GIFEncoder.js");var encoder=new GIFEncoder;onmessage=function(a){"start"==a.data.cmd?(a=a.data.data,encoder.setRepeat(a.repeat),encoder.setDelay(a.delay),encoder.setSize(a.width,a.height),encoder.start()):"frame"==a.data.cmd?(encoder.setDelay(a.data.delay),encoder.addFrame(a.data.data,!0)):"finish"==a.data.cmd&&(encoder.finish(),postMessage(encoder.stream().getData()))};
